map.libs=function(ifn.table, done)
{
    table = load.table(ifn.table)
    for (id in table$run.id) {
        command = sprintf("make m=map split LIB_ID=%s", id)
        cat(sprintf("running command: %s\n", command))
        if (system(command) != 0)
            stop("error in map command")
    }
    command = paste("touch", done)
    if (system(command) != 0)
        stop("error in touch command")
}
